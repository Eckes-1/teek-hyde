---
date: 2025-09-11 22:13:05
title: 版权声明组件
permalink: /Copyright
categories:
  - 笔记专栏
  - Teek
  - 配置
coverImg: /home/bg6.webp
sticky: 2 #置顶权重
---

## 创建组件

- 在`docs\.vitepress\theme\components`下创建`DocFooterCopyright.vue`

```vue
<template>
  <div class="copyright-notice">
    <!-- 右上角图标 -->
    <TkIcon class="corner-icon" :icon="cc" />

    <p class="copyright-item">
      <TkIcon :icon="authoricon" />
      文章作者：<a :href="authorLink" class="author-link">{{ author }}</a>
    </p>
    <p class="copyright-item">
      <TkIcon :icon="linkicon" />
      文章链接：
      <a
        :href="fullArticleUrl"
        target="_blank"
        rel="noopener noreferrer"
        class="url-link"
      >
        {{ displayArticleUrl }}
      </a>
    </p>
    <p class="copyright-item">
      <TkIcon :icon="copyright" />
      版权声明：本博客所有文章除特别声明外，均采用
      <a
        href="https://creativecommons.org/licenses/by-nc-sa/4.0/"
        target="_blank"
        rel="noopener noreferrer"
        class="license-link"
      >
        BY-NC-SA 4.0
      </a>
      许可协议。 转载请注明来自
      <a :href="authorLink" class="author-link">{{ author }}</a>
    </p>
  </div>
</template>

<script setup>
import { ref, onMounted, watch } from "vue";
import { useRoute } from "vitepress";
// 导入图标组件
import { TkIcon } from "vitepress-theme-teek";

const authoricon = `<svg t="1756620892345" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4942" width="256" height="256"><path d="M510.492 1020.122c280.726 0 508.563-227.837 508.563-508.563s-227.837-508.562-508.563-508.562-508.563 227.836-508.563 508.563 227.836 508.562 508.563 508.562zM510.492 155.565c84.421 0 152.57 68.147 152.57 152.57 0 84.421-68.147 152.57-152.57 152.57-84.422 0-152.57-68.147-152.57-152.57 0-84.422 68.147-152.57 152.57-152.57zM510.492 557.329c101.204 0 303.612 55.434 305.137 156.637-65.604 98.661-177.998 163.757-305.137 163.757-127.141 0-239.533-65.095-305.137-163.757 1.524-101.203 203.424-156.637 305.137-156.637z" fill="#539dfd" p-id="4943"></path></svg>`;

const linkicon = `<svg t="1756621307066" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20628" width="256" height="256"><path d="M0 0h1022.544733v1022.544733H0z" fill-opacity="0" p-id="20629"></path><path d="M0 511.272366c0 183.593259 97.606543 350.918761 255.636183 443.877373s353.242726 90.634647 511.272367 0S1022.544733 694.865625 1022.544733 511.272366C1022.544733 227.7486 794.796133 0 511.272366 0S0 227.7486 0 511.272366z" fill="#539dfd" p-id="20630" data-spm-anchor-id="a313x.search_index.0.i12.16223a81xYgBNH" class="selected"></path><path d="M804.091995 501.976505l-241.692392 213.804808c-20.915688 18.591722-53.451202 4.647931-53.451202-23.239653v-106.902404h-25.563618c-111.550335 0-206.832912 51.127237-257.960149 127.818092-11.619827 16.267757-34.85948 9.295861-37.183445-9.295861-2.323965-11.619827-2.323965-20.915688-2.323965-32.535515 0-160.353606 139.437918-295.143593 320.707212-318.383246v-106.902404c0-27.887584 32.535514-44.155341 53.451202-23.239653l241.692391 232.39653c6.971896 6.971896 9.295861 13.943792 9.295861 23.239653 2.323965 9.295861-2.323965 18.591722-6.971895 23.239653z" fill="#FFFFFF" p-id="20631"></path></svg>`;

const copyright = `<svg t="1756581951708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17642" width="256" height="256"><path d="M512 1024C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0 794.768 0 1024 229.232 1024 512 1024 794.768 794.768 1024 512 1024ZM560 240C560 213.488 538.512 192 512 192 485.488 192 464 213.488 464 240L464 592C464 618.512 485.488 640 512 640 538.512 640 560 618.512 560 592L560 240ZM512 736C485.488 736 464 757.488 464 784 464 810.512 485.488 832 512 832 538.512 832 560 810.512 560 784 560 757.488 538.512 736 512 736Z" fill="#539dfd" p-id="17643"></path></svg>`;

const cc = `<svg t="1756582892060" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12422" width="256" height="256"><path d="M512 0c282.624 0 512 229.376 512 512s-229.376 512-512 512S0 794.624 0 512 229.376 0 512 0z m0 256c-141.312 0-256 114.688-256 256a256.1024 256.1024 0 0 0 475.5456 131.6864l-87.808-52.6336a153.6 153.6 0 1 1 0.0512-158.0544l87.7568-52.736A255.9488 255.9488 0 0 0 512 256z" fill="#539dfd" p-id="12423" data-spm-anchor-id="a313x.search_index.0.i11.52943a81UvujRT" class="selected"></path></svg>`;

// 文章作者变量
const author = ref("Hyde");
// 作者链接
const authorLink = ref("https://teek.seasir.top/");
// 完整文章链接（用于实际跳转）
const fullArticleUrl = ref("");
// 显示用的文章链接（简洁版）
const displayArticleUrl = ref("");
// 获取当前路由实例
const route = useRoute();

// 路径映射表 - 长路径对应短路径的映射关系
const pathMapping = {
  "/10.笔记专栏/01.Teek/04.配置/02.头像配置": "/Twikoo",
  // 添加更多路径映射
  // '/原长路径': '/对应的短路径',
};

// 简化URL获取逻辑
const updateArticleUrl = () => {
  if (typeof window !== "undefined") {
    // 获取当前完整URL，移除hash部分
    const url = new URL(window.location.href);
    const cleanUrl = `${url.protocol}//${url.host}${url.pathname}`;

    // 查找是否有对应的短路径映射
    const mappedPath = pathMapping[url.pathname] || url.pathname;
    const displayUrl = `${url.protocol}//${url.host}${mappedPath}`;

    fullArticleUrl.value = cleanUrl;
    displayArticleUrl.value = displayUrl;
  }
};

// 初始加载时获取
onMounted(() => {
  // 延迟一点确保页面完全加载
  setTimeout(updateArticleUrl, 100);
});

// 监听路由变化
watch(
  () => route.path,
  () => {
    // 路由变化时更新URL
    setTimeout(updateArticleUrl, 100);
  },
  { immediate: true }
);
</script>

<style scoped>
.copyright-notice {
  font-size: 14px;
  padding: 0.8rem;
  margin-top: 2rem;
  line-height: 1.6;

  /* 边框样式 */
  border: 1px solid #e2e2e3;
  border-radius: 8px;
  transition: all 0.2s;

  /* 相对定位，用于右上角图标的绝对定位 */
  position: relative;
}

/* 右上角图标样式 */
.corner-icon {
  position: absolute;
  top: 6px;
  right: 6px;
}

/* 容器hover效果 */
.copyright-notice:hover {
  border-color: var(--vp-c-tip-1);
}

.copyright-item {
  display: flex;
  align-items: flex-start; /* 改为顶部对齐，适应换行 */
  flex-wrap: wrap; /* 允许换行 */
  word-break: break-all; /* 强制长单词换行 */
}

.copyright-item + .copyright-item {
  margin-top: 0.5rem;
}

/* 左侧图标样式调整 */
.copyright-item > .tk-icon {
  width: 16px;
  height: 16px;
  margin-right: 4px;
  margin-top: 4px;
  flex-shrink: 0;
}

/* 链接基础样式 */
.copyright-notice a {
  text-decoration: none;
  transition: all 0.2s;
}

/* 链接hover样式 */
.copyright-notice a:hover {
  color: var(--vp-c-tip-1);
  text-decoration: underline;
}

/* 作者链接样式 */
.author-link {
  font-weight: 600;
  color: var(--vp-c-tip-1);
}

/* 文章链接样式 */
.url-link {
  color: var(--vp-c-tip-1);
}

/* 许可协议链接样式 */
.license-link {
  color: var(--vp-c-tip-1);
}

/* 移动端优化 - 保持一行布局，超出换行 */
@media (max-width: 768px) {
  .copyright-notice {
    padding: 1rem;
  }

  /* 链接换行优化 */
  .url-link {
    word-break: break-all;
    overflow-wrap: break-word;
  }

  /* 作者和许可协议链接也优化换行 */
  .author-link,
  .license-link {
    word-break: break-word;
    overflow-wrap: break-word;
  }

  /* 超小屏幕优化 */
  @media (max-width: 480px) {
    .copyright-notice {
      padding: 0.75rem;
      font-size: 13px;
    }
  }
}
</style>
```

## 注册组件

- 在`docs\.vitepress\theme\components\TeekLayoutProvider.vue`中注册组件

```ts{1,10}
<script setup lang="ts" name="TeekLayoutProvider">
// 版权声明组件
import DocFooterCopyright from "./DocFooterCopyright.vue"; // [!code focus]
</script>

<template>
  <Teek.Layout>
    <template #doc-footer-before>
        // 版权声明组件
        <DocFooterCopyright /> // [!code focus]
    </template>;
  </Teek.Layout>
</template>
```