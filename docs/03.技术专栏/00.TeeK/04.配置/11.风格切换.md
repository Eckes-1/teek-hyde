---
date: 2025-04-06 22:20:13
title: é£æ ¼åˆ‡æ¢
permalink: /pages/baffb0
categories:
  - æŠ€æœ¯ä¸“æ 
  - TeeK
  - é…ç½®
---

## ç¯å¢ƒ

::: warning æ³¨æ„
æ­¤é…ç½®é€‚ç”¨äºTeek@1.0.0-alpha.9-2025.4.6ç‰ˆæœ¬ï¼ˆå…¶å®ƒç‰ˆæœ¬å¯è‡ªè¡Œæµ‹è¯•ï¼‰ã€‚
:::

## Teek.Layout æ³¨å†Œ

- åœ¨`docs\.vitepress\theme\components\TeekLayoutProvider.vue`é…ç½®ä»¥ä¸‹ä»£ç 

```vue
<template>
  <Teek.Layout>
    <template #nav-bar-content-after> çœç•¥... </template>
    <!-- ä¸æ·»åŠ ä¸‹é¢å½±å“å…¬å‘Šæ ·å¼ -->
    // [!code ++]
    <template v-for="(_, name) in $slots" :key="name" #[name]>
      // [!code ++]
      <slot :name="name" />
      // [!code ++]
    </template>
    <!-- ä¸æ·»åŠ ä¸Šé¢é¢å½±å“å…¬å‘Šæ ·å¼ -->
  </Teek.Layout>
</template>
```

## ä¸»é¢˜å…¥å£æ–‡ä»¶

- åœ¨`docs\.vitepress\theme\index.ts`é…ç½®ä»¥ä¸‹ä»£ç 

```ts
import TeekLayoutProvider from "./components/TeekLayoutProvider.vue"; // [!code ++]
export default {
  Layout: defineComponent({
    setup() {
      return () =>
        h(Teek.Layout, props, { // [!code --]
        h(TeekLayoutProvider, null, { // [!code ++]
        });
  }),
};
```

## BannerImgArrow ç»„ä»¶

- åœ¨`docs\.vitepress\theme\components\BannerImgArrow.vue` æ·»åŠ ä»¥ä¸‹ä»£ç 

```vue
// [!code --]
<div v-if="theme.banner.bgStyle === 'fullImg' && !isMobile" :class="`${namespace}-arrow tk-wallpaper-outside`">
// [!code ++]
<div v-if="theme.banner?.bgStyle === 'fullImg' && !isMobile" :class="`${namespace}-arrow tk-wallpaper-outside`">
```

## teekConfig.ts

::: details ç‚¹æˆ‘æŸ¥çœ‹

```ts
//docs\.vitepress\theme\config\teekConfig.ts
import type { TeekConfig } from "vitepress-theme-teek/config";
import { Features } from "../../config/Features"; // å¯¼å…¥Featuresæ¨¡å—
import { FriendLink } from "../../config/FriendLink"; // å¯¼å…¥FriendLinkæ¨¡å—
import { HitokotoDate } from "../../config/HitokotoDate"; // å¯¼å…¥HitokotoDataæ¨¡å—
import { SocialDate } from "../../config/SocialDate"; // å¯¼å…¥SocialDateç¤¾äº¤ä¿¡æ¯æ¨¡å—
import { Wallpaper } from "../../config/Wallaper"; // å¯¼å…¥Wallaperæ¨¡å—

// æ–‡æ¡£é…ç½®
export const teekDocConfig: TeekConfig = {
  themeSetting: {
    themeStyle: "vp-default", // è®¾ç½®å½“å‰ä¸»é¢˜é£æ ¼
    themeSize: "large", //è®¾ç½®å½“å‰ä¸»é¢˜å°ºå¯¸
  },
};

// åšå®¢é…ç½®
export const teekBlogConfig: TeekConfig = {
  teekHome: true,
  vpHome: false,
  themeSetting: {
    themeSize: "Wide",
  },
  blogger: {
    // åšä¸»ä¿¡æ¯ï¼Œæ˜¾ç¤ºåœ¨é¦–é¡µä¾§è¾¹æ 
    avatar: "/img/touxiang.webp",
    shape: "square", // å¤´åƒé£æ ¼ï¼šsquare ä¸ºæ–¹å½¢å¤´åƒï¼Œcircle ä¸ºåœ†å½¢å¤´åƒï¼Œcircle-rotate å¯æ”¯æŒé¼ æ ‡æ‚¬åœæ—‹è½¬
    name: "Hyde",
    slogan: "äººå¿ƒä¸­çš„æˆè§æ˜¯ä¸€åº§å¤§å±±~",
  },
  docAnalysis: {
    createTime: "2021-10-19",
    statistics: {
      provider: "busuanzi",
    },
    wordCount: true,
    readingTime: true,
    overrideInfo: [
      {
        key: "lastActiveTime",
        value: (_, currentValue) => `${currentValue}å‰`,
      },
      { key: "totalPosts", label: "æ–‡ç« æ€»æ•°ç›®" },
    ],
    appendInfo: [{ key: "index", label: "åºå·", value: "Hyde" }],
  },
  banner: {
    features: Features, //ç”¨äºåœ¨é¦–é¡µå±•ç¤ºä¸€äº›åŠŸèƒ½ä»‹ç»,ä¹Ÿå°±æ˜¯é¦–é¡µä¸‰ä¸ªåŠŸèƒ½å—
    enabled: true, // Banner æ ‡é¢˜ï¼Œé»˜è®¤è¯»å– vitepress çš„ title å±æ€§
    name: "Hyde Blog ğŸ‰", // Banner æ ‡é¢˜ï¼Œé»˜è®¤è¯»å– vitepress çš„ title å±æ€§
    bgStyle: "fullImg", // Banner èƒŒæ™¯é£æ ¼ï¼špure ä¸ºçº¯è‰²èƒŒæ™¯ï¼ŒpartImg ä¸ºå±€éƒ¨å›¾ç‰‡èƒŒæ™¯ï¼ŒfullImg ä¸ºå…¨å±å›¾ç‰‡èƒŒæ™¯
    imgInterval: 8000, // è½®æ’­æ—¶é—´
    imgShuffle: true, // å½“å¤šå¼ å¤§å›¾æ—¶ï¼ˆimgSrc ä¸ºæ•°ç»„ï¼‰ï¼Œè®¾ç½®åˆ‡æ¢æ—¶é—´ï¼Œå•ä½ï¼šæ¯«ç§’
    imgSrc: Wallpaper, // Banner å¤§å›¾
    descStyle: "types", //æ‰“å­—æœºæ•ˆæœï¼›types ä¸ºæ–‡å­—æ‰“å°é£æ ¼ï¼Œswitch ä¸ºæ–‡å­—åˆ‡æ¢é£æ ¼
    maskBg: "rgba(0, 0, 0, 0.4)", // Banner å¤§å›¾é®ç½©é¢œè‰²ï¼Œå¦‚æœä¸ºæ•°å­—ï¼Œåˆ™æ˜¯ rgba(0, 0, 0, ${maskBg})ï¼Œå¦‚æœä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™ä½œä¸ºèƒŒæ™¯è‰²
    textColor: "#ffffff", // Banner å­—ä½“é¢œè‰²ï¼ŒbgStyle ä¸º default æ—¶ä¸º '#000000'ï¼Œå…¶ä»–ä¸º '#ffffff'
    titleFontSize: "3.2rem", // æ ‡é¢˜å­—ä½“å¤§å°
    descFontSize: "1.4rem", // æè¿°å­—ä½“å¤§å°
    // descStyle: "types", // æè¿°ä¿¡æ¯é£æ ¼ï¼šdefault ä¸ºçº¯æ–‡å­—æ¸²æŸ“é£æ ¼ï¼ˆå¦‚æœ description ä¸ºæ•°ç»„ï¼Œåˆ™å–ç¬¬ä¸€ä¸ªï¼‰ï¼Œtypes ä¸ºæ–‡å­—æ‰“å°é£æ ¼ï¼Œswitch ä¸ºæ–‡å­—åˆ‡æ¢é£æ ¼
    description: HitokotoDate, // æ‰“å­—æœºæè¿°ä¿¡æ¯
    switchTime: 4000, // æè¿°ä¿¡æ¯åˆ‡æ¢é—´éš”æ—¶é—´ï¼Œå•ä½ï¼šæ¯«ç§’ã€‚descStyle ä¸º switch æ—¶ç”Ÿæ•ˆ
    switchShuffle: false, // æè¿°ä¿¡æ¯æ˜¯å¦éšæœºåˆ‡æ¢ï¼Œä¸º false æ—¶æŒ‰é¡ºåºåˆ‡æ¢ã€‚descStyle ä¸º switch æ—¶ç”Ÿæ•ˆ
    typesInTime: 200, // è¾“å‡ºä¸€ä¸ªæ–‡å­—çš„æ—¶é—´ï¼Œå•ä½ï¼šæ¯«ç§’ã€‚descStyle ä¸º types æ—¶ç”Ÿæ•ˆ
    typesOutTime: 100, // åˆ é™¤ä¸€ä¸ªæ–‡å­—çš„æ—¶é—´ï¼Œå•ä½ï¼šæ¯«ç§’ã€‚descStyle ä¸º types æ—¶ç”Ÿæ•ˆ
    typesNextTime: 800, // æ‰“å­—ä¸åˆ å­—çš„é—´éš”æ—¶é—´ï¼Œå•ä½ï¼šæ¯«ç§’ã€‚descStyle ä¸º types æ—¶ç”Ÿæ•ˆ
    typesShuffle: false, // æè¿°ä¿¡æ¯æ˜¯å¦éšæœºæ‰“å­—ï¼Œä¸º false æ—¶æŒ‰é¡ºåºæ‰“å­—ï¼ŒdescStyle ä¸º types æ—¶ç”Ÿæ•ˆ
  },
  // é¦–é¡µé¡¶éƒ¨æŒ‰ F11 å¼€å¯å£çº¸æ¨¡å¼
  wallpaper: {
    enabled: true, // æ˜¯å¦å¯ç”¨å£çº¸æ¨¡å¼
    hideBanner: false, // å¼€å¯å£çº¸æ¨¡å¼åï¼Œå…¨å±æ˜¯å¦æ˜¾ç¤ºæ‰“å­—æœºæ–‡æ¡ˆï¼Œ
    hideMask: true, // å¼€å¯å£çº¸æ¨¡å¼åï¼Œæ˜¯å¦éšè— Banner æˆ– bodyBgImage çš„é®ç½©å±‚ï¼Œåˆ™ç¡®ä¿ banner.mask å’Œ bodyBgImage.mask ä¸º true æ‰ç”Ÿæ•ˆ
    hideWaves: false, // å¼€å¯å£çº¸æ¨¡å¼åï¼Œæ˜¯å¦éšè— Banner æ³¢æµªç»„ä»¶ï¼Œä»… banner.bgStyle = 'fullImg' ç”Ÿæ•ˆ
  },

  friendLink: FriendLink, // å‹é“¾é…ç½®
  social: SocialDate, //ç¤¾äº¤ä¿¡æ¯é…ç½®
};
```

:::

## config.mts

::: details ç‚¹æˆ‘æŸ¥çœ‹

```ts
//docs\.vitepress\config.mts
import { defineConfig } from "vitepress";
import { defineTeekConfig } from "vitepress-theme-teek/config";
// import "vitepress-theme-teek/index.css";
import {
  groupIconMdPlugin,
  groupIconVitePlugin,
} from "vitepress-plugin-group-icons"; // å¯¼å…¥ä»£ç ç»„å›¾æ ‡æ’ä»¶
import timeline from "vitepress-markdown-timeline"; // å¯¼å…¥æ—¶é—´çº¿æ’ä»¶
import { La51Plugin } from "vitepress-plugin-51la"; // å¯¼å…¥51laç»Ÿè®¡æ’ä»¶

import { Features } from "./config/Features"; // å¯¼å…¥Featuresæ¨¡å—
import { FriendLink } from "./config/FriendLink"; // å¯¼å…¥FriendLinkæ¨¡å—
import { HitokotoDate } from "./config/HitokotoDate"; // å¯¼å…¥HitokotoDataæ¨¡å—
import { Nav } from "./config/Nav"; // å¯¼å…¥Navæ¨¡å—
import { SocialDate } from "./config/SocialDate"; // å¯¼å…¥SocialDateç¤¾äº¤ä¿¡æ¯æ¨¡å—
import { Wallpaper } from "./config/Wallaper"; // å¯¼å…¥Wallaperæ¨¡å—
import type { HeadConfig } from "vitepress"; // åœ¨æ–‡ä»¶é¡¶éƒ¨æ·»åŠ ç±»å‹å¯¼å…¥
import { HeadData } from "./config/Head"; // å¯¼å…¥ HeadData å¯¼å…¥å’Œç±»å‹æ–­è¨€
import { SocialLinks } from "./config/SocialLinks"; //å¯¼å…¥ç¤¾äº¤é“¾æ¥é…ç½®
import { FooterInfo } from "./config/FooterInfo"; //å¯¼å…¥åº•éƒ¨ä¿¡æ¯é…ç½®
import { CommentData } from "./config/Comment"; //å¯¼å…¥åº•éƒ¨ä¿¡æ¯é…ç½®

const description = ["Hd Security ä½¿ç”¨æ–‡æ¡£", "è®¤è¯æ¡†æ¶"].toString();

const teekConfig = defineTeekConfig({
  // teekHome: true, // æ˜¯å¦ä½¿ç”¨tkä¸»é¢˜ï¼ŒteekHome å’Œ teekTheme é»˜è®¤éƒ½æ˜¯ trueï¼Œå¯ä»¥æ³¨é‡Š
  // teekTheme: true, // æ˜¯å¦ä½¿ç”¨tkä¸»é¢˜ï¼ŒteekHome å’Œ teekTheme é»˜è®¤éƒ½æ˜¯ trueï¼Œå¯ä»¥æ³¨é‡Š
  // vpHome: true, // æ˜¯å¦ä½¿ç”¨vpä¸»é¢˜ï¼Œæ˜¯å¦å¯ç”¨ VitePress é¦–é¡µé£æ ¼ï¼Œæ”¯æŒ teekHome å’Œ vpHome åŒæ—¶å­˜åœ¨ã€‚
  themeSetting: {
    backTopDone: () => {
      alert("å·²åˆ°è¾¾é¡¶éƒ¨");
    },
  },
  bgColor: [
    "#e74c3c",
    "#409EFF",
    "#DAA96E",
    "#0C819F",
    "#27ae60",
    "#ff5c93",
    "#fd726d",
    "#f39c12",
    "#9b59b6",
  ], // ä¸»é¢˜èƒŒæ™¯é¢œè‰²
  page: {
    pageSize: 10, // æ¯é¡µæ˜¾ç¤ºçš„æ–‡ç« æ•°é‡
  },
  post: {
    coverImgMode: "full", // å°é¢å¤§å›¾
    imageViewer: { hideOnClickModal: true }, // å›¾ç‰‡é¢„è§ˆæ˜¯å¦ç‚¹å‡»é®ç½©å±‚å…³é—­}
  },
  author: { name: "Hyde", link: "https://gitee.com/SeasirHyde/teek-hyde" }, // ä½œè€…ä¿¡æ¯
  article: {
    imageViewer: { hideOnClickModal: true }, // å›¾ç‰‡é¢„è§ˆæ˜¯å¦ç‚¹å‡»é®ç½©å±‚å…³é—­}
    showIcon: true, // ä½œè€…ã€æ—¥æœŸã€åˆ†ç±»ã€æ ‡ç­¾ã€å­—æ•°ã€é˜…è¯»æ—¶é•¿ã€æµè§ˆé‡ç­‰æ–‡ç« ä¿¡æ¯çš„å›¾æ ‡æ˜¯å¦æ˜¾ç¤º
    dateFormat: "yyyy-MM-dd hh:mm:ss", // æ–‡ç« æ—¥æœŸæ ¼å¼ï¼Œé¦–é¡µå’Œæ–‡ç« é¡µè§£ææ—¥æœŸæ—¶ä½¿ç”¨
    showInfo: true, // æ˜¯å¦å±•ç¤ºä½œè€…ã€æ—¥æœŸã€åˆ†ç±»ã€æ ‡ç­¾ã€å­—æ•°ã€é˜…è¯»æ—¶é•¿ã€æµè§ˆé‡ç­‰æ–‡ç« ä¿¡æ¯ï¼Œåˆ†åˆ«ä½œç”¨äºé¦–é¡µå’Œæ–‡ç« é¡µ
    showAuthor: true, // æ˜¯å¦å±•ç¤ºä½œè€…
    showCreateDate: true, // æ˜¯å¦å±•ç¤ºåˆ›å»ºæ—¥æœŸ
    showUpdateDate: true, // æ˜¯å¦å±•ç¤ºæ›´æ–°æ—¥æœŸï¼Œæ˜¯å¦å±•ç¤ºæ›´æ–°æ—¶é—´ï¼Œä»…åœ¨æ–‡ç« é¡µæ˜¾ç¤º
    showCategory: true, // æ˜¯å¦å±•ç¤ºåˆ†ç±»
    showTag: true, // æ˜¯å¦å±•ç¤ºæ ‡ç­¾
    topTip: (frontmatter) => {
      const tip: Record<string, string> = {
        type: "warning",
        title: "æ³¨æ„",
        text: "æ–‡ç« å‘å¸ƒè¾ƒæ—©ï¼Œå†…å®¹å¯èƒ½è¿‡æ—¶ï¼Œé˜…è¯»æ³¨æ„ç”„åˆ«ã€‚",
      };

      // frontmatter.long ä¸º trueï¼Œåˆ™æ·»åŠ æç¤º
      if (frontmatter.long) return tip;

      // frontmatter.date å¤§äºåŠå¹´ï¼Œåˆ™æ·»åŠ æç¤º
      const longTime = 6 * 30 * 24 * 60 * 60 * 1000;
      if (
        frontmatter.date &&
        Date.now() - new Date(frontmatter.date).getTime() > longTime
      )
        return tip;
    },
  },
  footerInfo: FooterInfo, // åº•éƒ¨ä¿¡æ¯é…ç½®,
  comment: {
    provider: "twikoo",
    options: CommentData, // è¯„è®ºé…ç½®
  }, // è¯„è®ºé…ç½®,
  notice: {
    enabled: true,
    position: "center",
  },
  vitePlugins: {
    sidebarOption: {
      initItems: false, //è¿™æ¡å‘½ä»¤æ³¨é‡Šåï¼Œæ‰ä¼šè®©æ–‡æ¡£å’Œç›®å½•çš„æ ·å¼ä¿æŒä¸€è‡´
      collapsed: true, //æ‰“å¼€ä¾§è¾¹æ è‡ªåŠ¨æ”¶ç¼©åŠŸèƒ½
      ignoreList: ["nav"], //å¿½ç•¥çš„æ–‡ä»¶å¤¹å’Œæ–‡ä»¶
    },
    autoFrontmatter: true, // è‡ªåŠ¨ç”Ÿæˆ frontmatter
  },

  markdown: {
    config: (md) => {
      md.use(timeline); //æ—¶é—´çº¿æ’ä»¶
      md.use(groupIconMdPlugin); // ä»£ç ç»„å›¾æ ‡æ’ä»¶
    },
  },
});

// https://vitepress.dev/reference/site-config
export default defineConfig({
  extends: teekConfig,
  base: "/",
  title: "Hyde Blog",
  description: description,
  cleanUrls: true,
  lastUpdated: true, // æ˜¾ç¤ºæœ€åæ›´æ–°æ—¶é—´
  lang: "zh-CN",
  head: HeadData as HeadConfig[],
  markdown: {
    // å¼€å¯è¡Œå·
    lineNumbers: true,
    image: {
      // é»˜è®¤ç¦ç”¨ï¼›è®¾ç½®ä¸º true å¯ä¸ºæ‰€æœ‰å›¾ç‰‡å¯ç”¨æ‡’åŠ è½½ã€‚
      lazyLoading: true,
    },
    // æ›´æ”¹å®¹å™¨é»˜è®¤å€¼æ ‡é¢˜
    container: {
      tipLabel: "æç¤º",
      warningLabel: "è­¦å‘Š",
      dangerLabel: "å±é™©",
      infoLabel: "ä¿¡æ¯",
      detailsLabel: "è¯¦ç»†ä¿¡æ¯",
    },
  },
  themeConfig: {
    // https://vitepress.dev/reference/default-theme-config
    logo: "/favicon.ico",
    darkModeSwitchLabel: "ä¸»é¢˜",
    sidebarMenuLabel: "èœå•",
    returnToTopLabel: "è¿”å›é¡¶éƒ¨",
    lastUpdatedText: "ä¸Šæ¬¡æ›´æ–°æ—¶é—´",
    outline: {
      level: [2, 4],
      label: "æœ¬é¡µå¯¼èˆª",
    },
    docFooter: {
      prev: "ä¸Šä¸€é¡µ",
      next: "ä¸‹ä¸€é¡µ",
    },
    nav: Nav, // å¯¼èˆªæ é…ç½®
    socialLinks: SocialLinks, // ç¤¾äº¤é“¾æ¥é…ç½®
    search: {
      provider: "local",
    },
    editLink: {
      text: "åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ",
      pattern:
        "https://github.com/Kele-Bingtang/hd-security/edit/master/hd-security-docs/docs/:path",
    },
  },

  vite: {
    plugins: [
      groupIconVitePlugin(), //ä»£ç ç»„å›¾æ ‡
      // 51Laç»Ÿè®¡æ’ä»¶
      La51Plugin({
        id: "3LmDV843SgGyC2Zp",
        ck: "3LmDV843SgGyC2Zp",
        apply: "all",
      }),
    ],
    server: {
      open: true, // è¿è¡Œåè‡ªåŠ¨æ‰“å¼€ç½‘é¡µ
    },
    build: {
      chunkSizeWarningLimit: 1500, // é™åˆ¶è­¦å‘Šçš„å—å¤§å°
    },
  },
});
```

:::

## index.md

```md{6}
<!-- docs\index.md -->

tk:
#æ˜¯å¦å¯ç”¨ Teek çš„é¦–é¡µé£æ ¼
#å¦‚æœä¸º falseï¼Œåˆ™è¿˜åŸåˆ° Vitepress çš„é»˜è®¤é¦–é¡µï¼Œå…¶ä»–åŠŸèƒ½ä¸å˜ã€‚
teekHome:false
```
