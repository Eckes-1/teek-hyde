---
date: 2025-04-22 17:46:27
title: 网页标题切换
permalink: /pages/0c8b28
categories:
  - 技术专栏
  - TeeK
  - 配置
---

## 安装

::: code-group

```sh [pnpm]
pnpm i @vueuse/core
```

```sh [npm]
npm i @vueuse/core
```

```sh [yarn]
yarn add @vueuse/core
```

:::

## 创建

- 在`docs\.vitepress\theme\components\`目录下创建`TitleChange.vue`文件，并添加以下代码

```vue
<template>
    <div class="title-changer" />
</template>

<script lang="ts">
import { defineComponent } from 'vue'
import { useEventListener } from '@vueuse/core'

export default defineComponent({
    props: {
        hiddenTitle: {
            type: String,
            default: 'w(ﾟДﾟ)w 不要走！再看看嘛！'
        },
        returnTitle: {
            type: String,
            default: '♪(^∇^*)欢迎回来！'
        }
    },

    setup(props) {
        let originTitle = document.title
        let titleTimer: ReturnType<typeof setTimeout>
        let stopListener: () => void

        const handleVisibilityChange = () => {
            if (document.hidden) {
                document.title = props.hiddenTitle
                clearTimeout(titleTimer)
            } else {
                document.title = props.returnTitle
                titleTimer = setTimeout(() => {
                    document.title = originTitle
                }, 2000)
            }
        }

        stopListener = useEventListener(document, 'visibilitychange', handleVisibilityChange)

        return {
            originTitle,
            stopListener
        }
    },

    beforeUnmount() {
        this.stopListener()
        clearTimeout(this.titleTimer)
    }
})
</script>
```

## 使用

- 在`docs\.vitepress\theme\components\`目录下的`TeekLayoutProvider.vue`引入并使用

```vue {2,7}
<script setup lang="ts" name="TeekLayoutProvider">
import TitleChanger from "./TitleChange.vue";//导入网页标题变化
</script>

<template>
    <!--网页标题变化组件  -->
    <TitleChanger />
    <Teek.Layout>
        ...
    </Teek.Layout>
</template>
```
