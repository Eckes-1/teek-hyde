---
date: 2025-04-22 17:46:27
title: 动态标题切换
permalink: /pages/0c8b28
categories:
  - 技术专栏
  - TeeK
  - 配置
---

## 安装

::: code-group

```sh [pnpm]
pnpm i @vueuse/core
```

```sh [npm]
npm i @vueuse/core
```

```sh [yarn]
yarn add @vueuse/core
```

:::

## 创建

- 在`docs\.vitepress\theme\components\`目录下创建`titleChange.ts`文件，并添加以下代码

```ts
import { onUnmounted } from "vue";
import { useEventListener } from "@vueuse/core";

export function useTitleChange() {
  let originTitle = document.title;
  let titleTimer: ReturnType<typeof setTimeout>;

  const handler = () => {
    if (document.hidden) {
      document.title = "w(ﾟДﾟ)w 不要走！再看看嘛！";
      clearTimeout(titleTimer);
    } else {
      document.title = "♪(^∇^*)欢迎回来！";
      titleTimer = setTimeout(() => {
        document.title = originTitle;
      }, 2000);
    }
  };

  const stop = useEventListener(document, "visibilitychange", handler);

  onUnmounted(() => {
    stop();
    clearTimeout(titleTimer);
  });
}
```

## 使用

- 在`docs\.vitepress\theme\components\`目录下的`TeekLayoutProvider.vue`引入并使用

```ts
import { useTitleChange } from "./titleChange"; //导入动态标题
useTitleChange(); //动态标题函数
```
