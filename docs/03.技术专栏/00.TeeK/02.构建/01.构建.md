---
date: 2025-03-29 15:55:39
title: 构建
permalink: /pages/b3dc08
categories:
  - 技术专栏
  - TeeK
  - 构建打包
coverImg: /home/bg15.webp
---

## 打包 {#build}

`docs:build` 脚本将构建你的站点，并将所有静态资源输出到 `docs/.vitepress/dist` 目录中。使用以下命令运行它：

::: code-group

```sh [pnpm]
$ pnpm docs:build
```

```sh [npm]
$ npm docs:build
```

```sh [yarn]

```

:::

## CSS语法警告

- VitePress构建时出现的CSS语法警告,原因是`<style>标签内第8412行的分号问题` 警告如下

```shell{2-6}
⠋ building client + server bundles...warnings when minifying css:
▲ [WARNING] Unexpected ";" [css-syntax-error]

    <stdin>:8412:1:
      8412 │ };
           ╵  ^
```

### 解决方法

- 在`docs\index.md`文件中,删除`index.md`文件中分号`;`

```md{3}
:root {
animation: rainbow 12s linear infinite;
}; // 删除这里的分号
```

## `vite`过大的警告

- 打包时出现如下警告

```shell{1-4}
(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
```

::: warning 警告
提示你的内容太大了，打包后的任意文件超出了500KB，希望你能优化下,要么md文档内容写少点,当然这不现实
:::

### 解决方法

- 在`docs\.vitepress\config.mts`,添加如下配置

```ts{4-6}
export default defineConfig({
    vite: {
     //其他配置项
    build: {
      chunkSizeWarningLimit: 1500, // 限制警告的块大小
    },
  },
})
```

## 侧边栏插件警告

- 启动运行或者构建打包时出现如下警告

```sh
21:07:49 [vitepress-plugin-sidebar-resolve v1.0.8] 该目录 'D:\code\teek-hyde\docs\nav' 内部没有任何文件或文件序号出错，将忽略生成对应侧边栏
```

### 解决方法

```ts{6}
// docs\.vitepress\config.mts
vitePlugins: {
  sidebarOption: {
    initItems: false,
    collapsed: true,
    ignoreList: ["nav"], //忽略的文件夹和文件
  },
  autoFrontmatter: true,
},
```
